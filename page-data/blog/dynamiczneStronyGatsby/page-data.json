{"componentChunkName":"component---src-templates-blogtemp-js","path":"/blog/dynamiczneStronyGatsby","result":{"data":{"markdownRemark":{"frontmatter":{"title":"Dynamiczne tworzenie stron","date":"12.04.2021","updatedate":"13.04.2021"},"html":"<article class='article'>\n<blockquote class=\"article__tableofcontent\"> \n    <h3>\n    \tSpis treści\n    </h3>\n    <ul>\n        <li>\n            <a href=\"#post1\">\n                GraphQL - co to jest i jak się tego używa\n            </a>\n        </li>\n        <li>\n\t\t    <a href=\"#post2\">\n\t\t    Pliki Markdown i ich tworzenie\n\t\t    </a>\n\t    </li>\n        <li>\n            <a href=\"#post3\">\n                Dynamiczne tworzenie stron\n            </a>\n        </li>\n   </ul>\n</blockquote>\n<div class=\"article__content\">\n<h2 id=\"post1\">GraphQL - co to jest i jak się tego używa</h2>\n<p><strong>GraphQL</strong> jest to sposób komunikowania się z serwerem API. Cechuje się tym, że występuje tutaj jeden adres pod którym są dane, a dostęp do nich zależy od zapytania, które skonstruujemy.<br>\nKorzystając z graphQL dostępny jest dla nas \"<em>Plac zabaw</em>\", na którym możemy tworzyć zapytania, a następnie je wykorzystać je w kodzie strony.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.38297872340425%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABcklEQVQoz32SiZaDIAxF/f+P7KJW0Vat7Ij2TYJ12ukynHPFg+aSBLLDMUeRFxBVjaZpE217TjRtizwvE8WdsjwRVaKimFo06Loe4yjR9wMyZy289whTwDRNiHHCsizYhrEOV2Xpe4QPE0KMD9JawO12S/+yK1NKwdKLcy4JWfaMvCoMVQfZDlDdCDUoqJHR0MpASwfdC3gtVqExhrKKKZh32uDBsybJddcQArLuV3gDmvUgoUdPm+VwMsc8z8i01lRyQAgrXP5WchJS0HgiwekC2VCW7XWdaSNjLAmpJXWDoFvEySPbBGxnUqb3/iWhotKkhpEGhkpkidE29dZSLK/JpiRhR/ERGZf7Op5Lthzo/BtmW6cD090Ok71gXm4P4XP/XoXmC0ms6FAuRwR7Xnv4TbixBnNW7j1DLll6qHNOJYtVyI//hv0V+o/C9ZQLeFXRbQnIDocD9vs9hBAfkXQof3r2JDQ0exdgxw7Ry3T9fgBt+lOTpZH65wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Okno graphql\"\n        title=\"Okno graphql\"\n        src=\"/GatsbyProjekt/static/fb91320114a0e01ac4b3558afdc7d375/1d69c/graphql.png\"\n        srcset=\"/GatsbyProjekt/static/fb91320114a0e01ac4b3558afdc7d375/4dcb9/graphql.png 188w,\n/GatsbyProjekt/static/fb91320114a0e01ac4b3558afdc7d375/5ff7e/graphql.png 375w,\n/GatsbyProjekt/static/fb91320114a0e01ac4b3558afdc7d375/1d69c/graphql.png 750w,\n/GatsbyProjekt/static/fb91320114a0e01ac4b3558afdc7d375/78797/graphql.png 1125w,\n/GatsbyProjekt/static/fb91320114a0e01ac4b3558afdc7d375/aa440/graphql.png 1500w,\n/GatsbyProjekt/static/fb91320114a0e01ac4b3558afdc7d375/29114/graphql.png 1920w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<em>okno graphql</em>   </p>\n<p>Narzędzie to jest wyposażone w dokumentację, która zawiera informacje o możliwych zapytaniach, dzięki czemu możemy dowolnie układać zapytania w zależności od naszych potrzeb.<br>\nPrzykładowe zapytanie wygląda następująco:</p>\n<pre><code class=\"language-jsx\">const data = useStaticQuery(graphql`\n        query {\n            site {\n                siteMetadata{\n                    title\n                }\n            }\n        }\n    `)\n</code></pre>\n<p>Wyżej wymienione zapytanie wykorzystywane jest w nagłówku strony. Wyszukuje on <span><code>title</code></span> strony, o którym informacje znajdują się w <span><code>gatsby-config.js</code></span></p>\n<pre><code class=\"language-JS\">module.exports = {\n  siteMetadata: {\n    title: \"Serverless Adventure\",\n  },\n</code></pre>\n<h2 id=\"post2\">Pliki Markdown i ich tworzenie</h2>\n<p>Spotykamy się z nimi głównie na <a href=\"https://github.com/\">Githubie</a>, przeglądając najróżniejsze repozytoria. Wykorzystywane są także w najróżniejszych dokumentacjach.<br>\nCo umożliwia markdown?\nPozwala nam on na proste i szybkie stylizowanie tekstu, bez potrzeby tworzenia dodatkowych klas, arkuszy styli itp. Składnia jest prosta i intuicyjna - nauczenie się jej nie zajmuje wiele czasu. Dzięki temu pisanie artykułów przy użyciu markdown'a jest znacznie łatwiejsze i szybsze. Nie wymaga on od nas ustawiania styli, zaznaczania tekstu, który ma być nagłówkiem. Wszystko sprowadza się do odpowiednich kombinacji znaków.  </p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 70.74468085106383%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAABcRAAAXEQHKJvM/AAACK0lEQVQoz1VSy47aQBD0pyK+ZVcc9gNyySEhh+S40kpRAllF4sBTXNgAewCDjfHYHtszfo3fkBqPckjJstrdXVPVPdb6/X6v11utVsvlctVhsVhMp9Nlh/l8rkpITiaT0Wg0Ho/x+vj8+O37B+3h4XEwGGy3291uh/de4v2twx/gTT6bzQZf6/Uah85mM7yff3z9+ftFy6u4rNKyrMqyrOs6SSPG/aqsmroJmHt1dDw89lnke76FPHC73e73e9u22uFwMIwzISTPc6SKIr9cTCEEYsaZ65CmbRC7rrt/31uWdb1ePc+LIi7JcAkmalEUoQnitm0nSSLJjKEECyo2zQulXhzH6OScF0Wh0dCmzC47oAn6lFLE8OZRDy5UPk4Zj1kucnDqDlI5DAPiSGUIwi1qcIXBQIii2HVpmmaIw9DX9SM8O44DWWhIsu/7hDiu64GcdzidzmqETCQ8piJPEYNwPB5hCgGqsCPJ2C31iUeJEFKhqkvXs0Qu4ygOaUAUGS4814NBKAdBkGWZJPM4QEeSsfbWypkLYdlGyALUMEKWiaqqu83jqgg4kFVDYSkafGLIJJHHd6l70zTYhyrjCJVPszhgFG3YtlohoPmMXMiBRyFSIhdte6vqnIZX9dtAHKfjONCcDlDOslTtXMNJmIEzHrIQARaOVtM0DcPAChErEeQxMJrV7/X09DT88klTfef/ceiA9V5w0f8adF0/4SbOZ4w5HH5+ff31F7cb/T2l4VdxAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Ściąga składni markdown\"\n        title=\"Ściąga składni markdown\"\n        src=\"/GatsbyProjekt/static/35271d756a032ab03db416cadefbd172/1d69c/markdowncheatsheet.png\"\n        srcset=\"/GatsbyProjekt/static/35271d756a032ab03db416cadefbd172/4dcb9/markdowncheatsheet.png 188w,\n/GatsbyProjekt/static/35271d756a032ab03db416cadefbd172/5ff7e/markdowncheatsheet.png 375w,\n/GatsbyProjekt/static/35271d756a032ab03db416cadefbd172/1d69c/markdowncheatsheet.png 750w,\n/GatsbyProjekt/static/35271d756a032ab03db416cadefbd172/78797/markdowncheatsheet.png 1125w,\n/GatsbyProjekt/static/35271d756a032ab03db416cadefbd172/aa440/markdowncheatsheet.png 1500w,\n/GatsbyProjekt/static/35271d756a032ab03db416cadefbd172/c830c/markdowncheatsheet.png 1754w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<em>Ściąga składni markdown wykonana przez CODE2BITS<br>\nStrona jest niestety nie dostępna<br>\n<a href=\"https://pl.wikipedia.org/wiki/Markdown\">link do polskiej wersji</a></em></p>\n<p>Jak widać na załączonym obrazku składnia nie należy do tych skomplikowanych.</p>\n<h2 id=\"post3\">Dynamiczne tworzenie stron</h2>\n<p>Dynamiczne tworzenie stron, czyli przyśpieszenie tworzenia naszego bloga. Czynność, która jest bardzo praktyczna dla osób chcących łatwo i prosto móc tworzyć artykuły, bez dodatkowego stylizowania - dodawania klas etc.   </p>\n<p>Proces ten nie należy do skomplikowanych, ale jego poprawne skonfigurowanie należy do tych wymagających większego kombinowania. Na początku pobierane są informacje o plikach, z których pobierane będą informacje. Z tych informacji tworzony jest tak zwany <i id=\"slug\"><strong>slug</strong></i> - jest ciąg znaków, który jest zawarty w linku strony. Jest to unikalny identyfikator dla konkretnych zasobów.<br>\nW przypadku plików markdown jest on tworzony od nazw plików. W wyniku tego ważnym jest odpowiednie nazywanie plików.<br>\nW kolejnym etapie jest proces build'a, podczas którego pobierana jest zawartość plików markdown i umieszczana jest na przez nas wcześniej utworzonym szablonie strony.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 442px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 142.5531914893617%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAdCAYAAACqhkzFAAAACXBIWXMAAA6xAAAOsQGcjB/aAAAEh0lEQVRIx31VS29bRRQeyTODWLLgF7BEYoPYFBaITfoLWLBCqgSBUiAtJUlFk5akLc2jTZs0zsu+tuPEDVFK0oeaOhRoCbRNoypNYsclhvAQYlOBWHQ11zN8Z+be6+sWsPRp5p4z8/nMme+cYbKcMRG2skZu5418kHPjj1NG/jDpQDYCzclHqObtHlHyIg5mPyowriQNnzxkeLbd8POHDb/wqeGFwxbi4jHDF7oNz7QZPtsJHDH8iy7DZzrsSETEQ2Ahu7g/YcS3Z41Y6nP4+rQRVz7DeMqIbwac78aAs9NIuHLCiMWeKEpLCDIfEx/H8cWdpC+u9/t8ptNHND7+3RfXepS4fNwXl0/4fO6oQvQ+QVw67rCS9GUl5zjAxUJm+y93ho24etKIYq/9Z4uvEOHyoIuUIr9GdqxZwprr/UasjsYizFCEXhHMRVnCWMkW5fZkEcku4kJoXJI/TS+KtfFlRLIidwqL1kb+KvzbebenFHCACxFmmChnKFKGG2Ty1xkmf/ucyd9nmXy0yPjofobfs8ALiZ632VNm2fkJv8wwgT2013FkGE12RSh5DvYb43rqZflw/iV+dt/ribY3muWjqy8i2lca1pS9XXEOIoxuKLr+zTTgBUjXfcHcrQkQ31emWy55NRhqMNSwoIZj15A/h2q+hhy6MQT5wzXVKTsXAQeBzq9BpOHQkImGJDSfxzh7BGO3hrA1hK359CfWL77s13yy3a2ZO4rvPg3JacsD0JEVJgpXryAbBSLF84cUqsbN0x8rENK31SEk43wDe1Wie4/9BqFCUJYHR85EOYhquTrlENYrzX8u1GuaarySc/ULW2Mtl70uGLoQqRs30jGkukDQCUEPIToP5B2wdZM92rOZru8FF0VYR/kx7BQYP99BOnwaeI5PHGTyjznn2yJkG/c7HXqt+IdW/JNDyWsYEdUBlGMPLmtY7ky3ILq2yB8HcYCLRfkL+x7lkfKElmZB32EP3ApscT8h5Aj6oYJRIU8KjUCJtQk33k0qsTqixL0xe/vi+yHfzleSNHe+u8DqqEK+lQzUYnWIG7N6S5x8S/Oh94EPND+9V/Mz7+lEb7PmI/s1H/5Q8xz0lzqo+SDWJFs0cqoTfc0avdHq2OkwrJSNdA1NtoZaraGG3Zxs98ZsBVlbaA/nVF23ztl5WG1RLbs3JcDj7wzZglw9gVgORaDDJkyaYGhCJI3jemo32thrOOabiWN7WuTDhVeR493WF2Ij7UbiAJfrh/8B6nl8/CPS4TPA84n+d5j869L/7qGOXQAuAvPoPBGgNcICjnRB3B5eQuJvYj5nbZuNa+3eACw8e5RHqlHCdqDLSrbxbY6/0Q9yDfkL35Q/rXRIR+sphadRiVvQWbFXiZtn6hrE62b1eWNA4UlV4rtBJW6fs10m1CC4qNt4f7tOk9H0NkNfePDbTeLUu4aPHTDQpIEO3aM+Al+m1eCdMWhxhg/uMwjCqiCqFEdoDdqGvzbuHv2NFJB2wCZro3Ez+KZjYq1NU+wJsYSBpnTUE5/Q4r/oM9Bo/D0i/AOlP/PwtUIbnwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"dynamiczne strony wykres\"\n        title=\"dynamiczne strony wykres\"\n        src=\"/GatsbyProjekt/static/8acec3fb1cb8df059512b60c1b027360/e03bf/dynamicalwebsitegraph.png\"\n        srcset=\"/GatsbyProjekt/static/8acec3fb1cb8df059512b60c1b027360/4dcb9/dynamicalwebsitegraph.png 188w,\n/GatsbyProjekt/static/8acec3fb1cb8df059512b60c1b027360/5ff7e/dynamicalwebsitegraph.png 375w,\n/GatsbyProjekt/static/8acec3fb1cb8df059512b60c1b027360/e03bf/dynamicalwebsitegraph.png 442w\"\n        sizes=\"(max-width: 442px) 100vw, 442px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>Z rzeczy, które będą nam potrzebne to:</p>\n<ul>\n<li>pluginy - <span><code>gatsby-source-filesystem, gatsby-tranformer-remark, gatsby-plugin-sharp, gatsby-remark-relative-images, gatsby-remark-images</code></span></li>\n<li>dowolne pliki markdown - warto jest mieć najpierw sam zarys, żeby móc sprawdzać i testować ich działanie</li>\n<li>szablon dla artykułów</li>\n</ul>\n<p>I tak naprawdę to jest wszystko co jest nam do szczęścia potrzebne.\nPierwszym krokiem jaki trzeba wykonać to skonfigurować pluginy. W pliku <span><code>gatsby-config.js</code></span> wystarczy umieścić ten tego typu kod:</p>\n<pre><code class=\"language-JS\">    {\n      resolve: 'gatsby-source-filesystem',\n      options: {\n        name: `src`,\n        path: `${__dirname}/src/`,\n      }\n    },\n    'gatsby-plugin-sharp',\n    {\n      resolve: 'gatsby-transformer-remark',\n      options: {\n        plugins: [\n          'gatsby-remark-relative-images',\n          {\n            resolve: 'gatsby-remark-images',\n            options: {\n              //maxWidth jest to maksymalna szerokość zdjęcia\n              maxWidth: 750,\n              linkImagesToOriginal: false\n            }\n          },\n        ]\n      }\n    },\n</code></pre>\n<p>Jest to konfiguracja potrzebnych nam pluginów. </p>\n<blockquote>\n<p>Adnotacja do dokładniejszych informacji o pojedyńczych pluginów na stronie ich dokumentacji:</p>\n<ul>\n<li><a href=\"https://www.gatsbyjs.com/plugins/gatsby-source-filesystem/\">gatsby-source-filesystem</a></li>\n<li><a href=\"https://www.gatsbyjs.com/plugins/gatsby-plugin-sharp\">gatsby-plugin-sharp</a></li>\n<li><a href=\"https://www.gatsbyjs.com/plugins/gatsby-transformer-remark/\">gatsby-tranformer-remark</a></li>\n<li><a href=\"https://www.gatsbyjs.com/plugins/gatsby-remark-relative-images/\">gatsby-remark-relative-images</a></li>\n<li><a href=\"https://www.gatsbyjs.com/plugins/gatsby-remark-images/\">gatsby-remark-images</a></li>\n</ul>\n</blockquote>\n<p>Następnie potrzebujemy upewnić się, że nasze pliki markdown są tak samo wykonane. Chcąc mieć informacje, według których nasze posty powinny być wyszukiwane należy umieścić na początku pliku tablę:</p>\n<pre><code>---\ntitle: \"tytuł strony\"\ndate: \"data artykułu format => YYYY-MM-DD\"\n\n---\n</code></pre>\n<blockquote>\n<p>Informacje w tej tabeli można wyszukać przy użyciu graphQL - ważne jest, żeby składnia wyglądała tak: <span><code>zmienna: \"wartość\"</code></span>. </p>\n</blockquote>\n<p>Na stronie, na której ma być wyświetlana lista artykułów, trzeba zaimportować:\n<span><code>graphql, useStaticQuery z 'gatsby'</code></span>. Pozwoli to nam na tworzenie zapytań, które umożliwią nam wyszukiwanie informacji o plikach markdown. Dzięki tym zapytaniom będziemy mogli stworzyć listę artykułów, a dzięki temu utworzyć nawigację na naszej stronie.</p>\n<pre><code class=\"language-JSX\">import React from 'react'\nimport { graphql, useStaticQuery } from gatsby\n\nconst Blog = () => {\n  \n  //statyczne zapytanie graphql\n\n  const data = useStaticQuery(graphql`\n    query {\n      allMarkdownRemark{\n        edges{\n          node{\n            frontmatter{\n              title\n              date\n            }\n          }\n        }\n      }\n    }\n  `)\n\n  return (\n    //Tworzenie listy artykułów\n\n    &#x3C;div>\n      &#x3C;ul>\n        {\n          data.allMarkdownRemark.edges.map((edge) =>(\n            &#x3C;li>\n              &#x3C;article>\n                &#x3C;h2>{edge.node.frontmatter.title}&#x3C;/h2>\n                &#x3C;p>{edge.node.frontmatter.date}&#x3C;/p>\n              &#x3C;/article>\n            &#x3C;/li>\n          ))\n        }\n      &#x3C;/ul>\n    &#x3C;/div>\n\n  )\n}\n</code></pre>\n<p>Na tej stronie stworzone zapytanie wyszukuje <em>frontmatter</em> - są to wszystkie informacje, które znajdują się w tej tabelce, którą tworzyliśmy na początku pliku markdown. Dlatego też ważnym jest umieszczanie tych samych \"<em>zmiennych</em>\" we wszystkich plikach markdown.  </p>\n<pre><code>&#x3C;div>\n  &#x3C;ul>\n    {\n      data.allMarkdownRemark.edges.map((edge) =>(\n        &#x3C;li>\n          &#x3C;article>\n            &#x3C;h2>{edge.node.frontmatter.title}&#x3C;/h2>\n            &#x3C;p>{edge.node.frontmatter.date}&#x3C;/p>\n          &#x3C;/article>\n        &#x3C;/li>\n      ))\n    }\n  &#x3C;/ul>\n&#x3C;/div>\n</code></pre>\n<p>Fragment ten odpowiada za tworzenie elementów html, których zawartością będą informacje, które zostały wyszukane w zapytaniu, które wczęśniej tworzyliśmy.  </p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABcElEQVQoz42S6W7CMBCE8/4PVlWiFAoJIRwtrXrkjnM5d6a7TgKU/iHSp3FWsr0zay1JU9i2gyAI4LoufD9Qa9/34XmeWrNGUYSmbdESzTXNCK3ruoHGG5bzGXamDmujkxo4vR5wsExsjTWOewt7a6tqHW3q+x591w1KXH98qFbVtTq5abuR4Sa+taWNrFVVQxYl0iwj0kHJWZbnly5J+SxNFgXCMFQIIZS1JEmUBlyLBcqyPNttb203zZma0BzHwezxAaa+wpYsb/Q1Pj9OsMj6ajGH/vKMnLq65+NOtTyXSOJY3VBV1ZmaoyAtyAEjpfzDVJtUueAOVYZTXmOO/F9NuVJ9yJAPLi+U/1VlyJaXi2eya2BjGDBJ39+O2O8sLOZP0FdLxCK63zJPy/7+gufYiEJ6c64DQRrTgELfo/oPSuquo07bm8Fc040vQuN2ebqCclSIgWHaKUrKMaeMMnoqnDdrluXqySgd11IWyvIvthMA80eBafIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"lista artykułów\"\n        title=\"lista artykułów\"\n        src=\"/GatsbyProjekt/static/5c2cd75c6c4224fca4d93c1a9344a92d/1d69c/articlelist.png\"\n        srcset=\"/GatsbyProjekt/static/5c2cd75c6c4224fca4d93c1a9344a92d/4dcb9/articlelist.png 188w,\n/GatsbyProjekt/static/5c2cd75c6c4224fca4d93c1a9344a92d/5ff7e/articlelist.png 375w,\n/GatsbyProjekt/static/5c2cd75c6c4224fca4d93c1a9344a92d/1d69c/articlelist.png 750w,\n/GatsbyProjekt/static/5c2cd75c6c4224fca4d93c1a9344a92d/78797/articlelist.png 1125w,\n/GatsbyProjekt/static/5c2cd75c6c4224fca4d93c1a9344a92d/5b795/articlelist.png 1455w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>W przypadku tej witryny lista artykułów zawiera także wstęp do artykułu. Chcąc jednak utworzyć linki do tych podstron potrzebny nam będzie szablon strony oraz wcześniej wymieniony <a href=\"#slug\"><em>slug</em></a>. Aby móc go stworzyć będziemy potrzebować utworzyć plik <span><code>gatsby-node.js</code></span>.<br>\nW tym pliku będziemy musieli utworzyć dwie funkcje: jedna odpowiada za tworzenie sluga, a druga za bezpośrednie tworzenie stron. Zanim to wykonamy potrzebować jeszcze będziemy szablonu strony.<br>\nJego stworzenie, nie należy do ciężkich. Wpierw musimy utworzyć zapytanie graphql, które będzie dynamiczne, więc nie będziemy potrzebować <span><code>useStaticQuery</code></span>. Będzie ono się wykonywać dla każdego sluga, który jest stringiem - ma to na celu uniknięcia błędów, gdyby slug był liczbą. Następnie będzie wyszukiwać informacje, które należą do sluga, który dotyczy aktualnej strony.<br>\nPóźniej umieści wyszukane informacje: tytuł i datę, w odpowiednie pola. Treść poza tabelą w pliku markdown jest interpretowana jako HTMl, więc należy go umieścić w jakimś kontenerze przy użyciu <span><code>dangerouslySetInnerHTML</code></span>.   </p>\n<pre><code class=\"language-JSX\">import React from 'react'\nimport { graphql } from 'gatsby'\n\nexport const query = graphql`\n  query($slug: String!) {\n        markdownRemark(fields: { slug: { eq: $slug } }) {\n            frontmatter {\n                title\n                date\n            }\n            html\n        }\n  }\n`\n\nconst Blog = (props) => {\n  return (\n    &#x3C;div>\n      &#x3C;h2>\n        {props.data.markdownRemark.frontmatter.title}\n      &#x3C;/h2>\n      &#x3C;p>\n        {props.data.markdownRemark.frontmatter.title}\n      &#x3C;/p>\n      &#x3C;div dangerouslySetInnerHTML={{ __html: props.data.markdownRemark.html}}>\n      &#x3C;/div>\n    &#x3C;/div>\n  )\n}\n</code></pre>\n<p>Po utworzeniu szablonu następnym krokiem jest tworzenie sluga. Chcąc utworzyć sluga musimy stworzyć zmienną, która będzie wykorzystywać <span><code>path</code></span>. Dzięki temu będziemy mogli użyć jej w celu wyszukiwania plików w naszych funkcjach. Następnie wykorzystujemy API Gatsby.js <span><code>onCreateNode</code></span>. Ta funkcja będzie się wykonywała za każdym razem gdy będzie tworzony nowy node (struktura danych) lub będzie on aktualizowany.</p>\n<pre><code class=\"language-JS\">const path = require('path')\n\nmodule.exports.onCreateNode = ({ node, actions }) => {\n    const { createNodeField } = actions\n\n    if (node.internal.type === 'MarkdownRemark') {\n        const slug = path.basename(node.fileAbsolutePath, '.md')\n\n        createNodeField({\n            node,\n            name: 'slug',\n            value: slug\n        })\n    }\n}\n</code></pre>\n<p>Powyższy kod będzie tworzył slug'a tylko dla node'ów MarkdownRemark - innymi słowy, tylko dla plików markdown w katalogach, które wcześniej zdeklarowaliśmy w ustawieniach <span><code>gatsby-source-filesystem</code></span>.<br>\nZanim je stworzy jednak \"ucina\" rozszerzenie, dzięki czemu ma tylko nazwę pliku. </p>\n<p>Kolejnym krokiem jest stworzenie funkcji, która będzie tworzyć strony. Wykorzystamy do tego <span><code>createPage</code></span>.<br>\nChcąc ją wykorzystać, należy użyć kodu, który jest poniżej.</p>\n<pre><code class=\"language-JS\">module.exports.createPages = async ({ graphql, actions }) => {\nconst { createPage } = actions\nconst blogTemplate = path.resolve('./src/templates/blogtemp.js')\nconst res = await graphql(`\n    query {\n        allMarkdownRemark{\n            edges {\n                node {\n                    fields{\n                        slug\n                    }\n                }\n            }\n        }\n    }\n`)\nres.data.allMarkdownRemark.edges.forEach((edge)=>{\n    createPage({\n        component: blogTemplate,\n        path: `/blog/${edge.node.fields.slug}`,\n        context: {\n            slug: edge.node.fields.slug,\n        }\n    })\n})\n}\n</code></pre>\n<p>Ten kod pobiera szablon strony, a następnie tworzy strony, na bazie informacji, które zostały pobrane w zapytaniu graphql.  </p>\n<h5>Aktualizacja strony z artykułami</h5>\n<p>Gdy mamy już utworzone strony w kodzie strony z artykułami musimy utworzyć odnośniki. </p>\n<pre><code class=\"language-JSX\">import React from 'react'\nimport { Link, graphql, useStaticQuery } from gatsby\n\nconst Blog = () => {\n\n  const data = useStaticQuery(graphql`\n    query {\n      allMarkdownRemark{\n        edges{\n          node{\n            frontmatter{\n              title\n              date\n            }\n          }\n        }\n      }\n    }\n  `)\n\n  return (\n    &#x3C;div>\n      &#x3C;ul>\n        {\n          data.allMarkdownRemark.edges.map((edge) =>(\n            &#x3C;li>\n            &#x3C;Link to={`/blog/${edge.node.fields.slug}`}>\n              &#x3C;article>\n                &#x3C;h2>{edge.node.frontmatter.title}&#x3C;/h2>\n                &#x3C;p>{edge.node.frontmatter.date}&#x3C;/p>\n              &#x3C;/article>\n              &#x3C;/Link>\n            &#x3C;/li>\n          ))\n        }\n      &#x3C;/ul>\n    &#x3C;/div>\n\n  )\n}\n</code></pre>\n<p>Aktualnie jesteśmy w stanie zajrzeć na strony pojedyńczych artykułów.</p>\n</div>\n</article>"}},"pageContext":{"slug":"dynamiczneStronyGatsby","previous":{"fields":{"slug":"stylizowanieGatsby"},"frontmatter":{"title":"Stylizowanie w Gatsby.js"}},"next":{"fields":{"slug":"strona404"},"frontmatter":{"title":"Strona 404"}}}},"staticQueryHashes":["3159585216","440568431"]}